<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Datetime Extensions by kappy</title>
    
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
	<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30548591-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Datetime Extensions</h1>
        <p>This project is a merge of several common DateTime operations on the form of  extensions to System.DateTime, including natural date difference text (precise and human rounded), holidays and working days calculations on several culture locales.</p>
        <p class="view"><a href="https://github.com/kappy/DateTimeExtensions">View the Project on GitHub <small>kappy/DateTimeExtensions</small></a></p>
        <ul>
          <li><a href="https://github.com/kappy/DateTimeExtensions/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/kappy/DateTimeExtensions/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/kappy/DateTimeExtensions">Fork On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h3>Support</h3>

<p>You can point out bugs, feature requests, submit pull requests on the project <a href="https://github.com/kappy/DateTimeExtensions">web site on GitHub</a> </p>

		<h3>Contents</h3>

<p>This library is built in a single assembly DateTimeExtensions.dll</p>

		<h3>License</h3>
		
<p>This project is licensed under the Apache License, Version 2.0.
<br/>
You can read the license details <a href="http://www.apache.org/licenses/LICENSE-2.0">here</a></p>

		<h3>Sample</h3>

<p>Check out a sample web site featuring some of DateTimeExtensions in <a href="http://datetimeextensions.apphb.com">here</a></p>

		<h3>Getting Started</h3>

		<p>DateTimeExtensions is avaiable on <a href="http://nuget.org/packages/DateTimeExtensions">nuget</a>
		<br/>
        To install DateTime Extensions, run the following command in the <a href="http://docs.nuget.org/docs/start-here/using-the-package-manager-console">
            Package Manager Console</a>
		</p>
		<pre style="background-color: #202020;border: 4px solid silver;border-radius: 5px;-moz-border-radius: 5px;-webkit-border-radius: 5px;box-shadow: 2px 2px 3px #6e6e6e;color: #E2E2E2;display: block;font: 1.2em 'andale mono', 'lucidaconsole', monospace;line-height: 1.5em;overflow: auto;padding: 15px;">PM&gt; Install-Package DateTimeExtensions</pre>

		<h3>Major Feautures</h3>
		<h4>Working Days Calculations</h4>
		
		<p>In many businesses there's the concept of a working day. Either being used to calculate the estimated finishing date of a workflow or to return a phone call, some business process may use the working day concept to add or subtract days from a date excluding weekends and holidays.</p>
		<p>Usage Example</p>
<pre><code>
using DateTimeExtensions;

[Test]
public void use_holidays_in_calulations() {
	DateTimeCultureInfo pt_ci = new DateTimeCultureInfo("pt-PT");
	DateTime startDate = new DateTime(2011, 4, 21);

	//21-04-2011 - start
	//22-04-2011 - holiday
	//23-04-2011 - saturday
	//24-04-2011 - sunday
	//25-04-2011 - holiday
	//26-04-2011 - end

	DateTime endDate = startDate.AddWorkingDays( 1, pt_ci);
	Assert.IsTrue(endDate == startDate.AddDays(5));
}
</code></pre>
		
		<h4>Export Holidays to calendar format</h4>
		
		<p>Do you wish to export your locale year holidays to Outlook? Or even provide your own custom calendar suited to your business?</p>
<pre><code>[Test]
public void can_save_to_file() {
	var exporter = ExportHolidayFormatLocator.LocateByType(ExportType.OfficeHolidays);
	string tempfile = Path.GetTempFileName();
	using (var fileStream = File.Create(tempfile)) {
		using (var textwriter = new StreamWriter(fileStream)) {
			exporter.Export(new DateTimeCultureInfo("pt-PT"), 2012, textwriter);
			textwriter.Flush();
			Assert.IsTrue(fileStream.Length > 0);
		}
	}
	File.Delete(tempfile);
}
</code></pre>
		
		<h4>Date Difference To Natural Text</h4>
		
<p>
	This extensions can compare two dates in natural language based on the current locale on current thread CultureInfo.
	<br/>
	This comes in two flavors: Exact time or human rounded.
</p>
<pre><code>
[Test]
public void can_tranlate_to_natural_text_rounded() {
	var fromTime = DateTime.Now;
	var toTime = fromTime.AddHours(2).AddMinutes(45);

	var naturalText = fromTime.ToNaturalText(toTime, true, foo_ci);

	Assert.IsNotNullOrEmpty(naturalText);
	Assert.AreEqual("3 hours", naturalText);
}


[Test]
public void can_tranlate_to_exact_natural_text() {
	var fromTime = DateTime.Now;
	var toTime = DateTime.Now.AddHours(2).AddMinutes(30);

	var naturalText = fromTime.ToExactNaturalText(toTime, foo_ci);

	Assert.IsNotNullOrEmpty(naturalText);
	Assert.AreEqual("2 hours, 30 minutes", naturalText);
}
</code></pre>
		
		
		<h4>General goto dates</h4>
		
<p>
	Some general utility extensions are also provided:
</p>
<pre><code>
[Test]
public void get_next_and_last_tuesday() {
	var a_saturday = new DateTime(2011, 8, 20);

	var nextTuesday = a_saturday.NextDayOfWeek(DayOfWeek.Tuesday);
	var lastTuesday = a_saturday.LastDayOfWeek(DayOfWeek.Tuesday);
	Assert.IsTrue((nextTuesday.DayOfWeek == DayOfWeek.Tuesday) && (nextTuesday == new DateTime(2011, 8, 23)));
	Assert.IsTrue((lastTuesday.DayOfWeek == DayOfWeek.Tuesday) && (lastTuesday == new DateTime(2011, 8, 16)));
}

[Test]
public void get_first_and_last_tuesday_of_august() {
	var a_saturday = new DateTime(2011, 8, 13);

	var firstTuesday = a_saturday.FirstDayOfWeekOfTheMonth(DayOfWeek.Tuesday);
	var lastTuesday = a_saturday.LastDayOfWeekOfTheMonth(DayOfWeek.Tuesday);
	Assert.IsTrue((firstTuesday.DayOfWeek == DayOfWeek.Tuesday) && (firstTuesday == new DateTime(2011, 8, 2)));
	Assert.IsTrue((lastTuesday.DayOfWeek == DayOfWeek.Tuesday) && (lastTuesday == new DateTime(2011, 8, 30)));
}
</code></pre>
		

        <h3>Thanks</h3>
		
<div style="background: #00578e url('http://www.jetbrains.com/img/banners/Codebetter300x250.png') no-repeat 0 50%; margin:0;padding:0;text-decoration:none;text-indent:0;letter-spacing:-0.001em; width:300px; height:250px">
<a href="http://www.jetbrains.com/youtrack" title="YouTrack by JetBrains" style="margin: 52px 0 0 58px;padding: 0; float: left;font-size: 14px; background-image:none;border:0;color: #acc4f9; font-family: trebuchet ms,arial,sans-serif;font-weight: normal;text-align:left;">keyboard-centric bug tracker</a>
<a href="http://www.jetbrains.com/teamcity" title="TeamCity by JetBrains" style="margin:0 0 0 58px;padding:122px 0 0 0;font-size:14px; background-image:none;border:0;display:block; color: #acc4f9; font-family: trebuchet ms,arial,sans-serif;font-weight: normal;text-align:left;">continuous integration server</a>
</div>


      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/kappy">kappy</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
  </body>
</html>